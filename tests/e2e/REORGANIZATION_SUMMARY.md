# é‡æœºæªæ¸¸æˆæµ‹è¯•é‡ç»„æ€»ç»“æŠ¥å‘Š

## ğŸ“Š é‡ç»„æˆæœ

### æµ‹è¯•æ–‡ä»¶æ•°é‡å¯¹æ¯”
- **é‡ç»„å‰**: 30+ ä¸ªåˆ†æ•£çš„æµ‹è¯•æ–‡ä»¶
- **é‡ç»„å**: 7 ä¸ªé«˜æ•ˆçš„ç­‰ä»·ç±»æµ‹è¯•å¥—ä»¶
- **å‡å°‘æ¯”ä¾‹**: 75%+ çš„æ–‡ä»¶æ•°é‡å‰Šå‡

### æ–°çš„æµ‹è¯•æ¶æ„

#### 1. å·¥å…·å±‚ (`utils/test-helpers.ts`)
- **GameTestHelper**: æ ¸å¿ƒæµ‹è¯•è¾…åŠ©ç±»
- **EquivalenceClasses**: ç­‰ä»·ç±»å®šä¹‰å’Œå¸¸é‡
- **å…¬å…±æ–¹æ³•**: å‡å°‘ä»£ç é‡å¤ï¼Œæé«˜ç»´æŠ¤æ€§

#### 2. æ ¸å¿ƒåŠŸèƒ½å±‚ (`core-functionality.spec.ts`)
```
âœ“ æ¸¸æˆåˆå§‹åŒ–ç­‰ä»·ç±»éªŒè¯
âœ“ ç©å®¶ç§»åŠ¨æ§åˆ¶ç­‰ä»·ç±» - æœ‰æ•ˆåŒºåŸŸ  
âœ“ è¾¹ç•Œå€¼æµ‹è¯• - å±å¹•è¾¹ç¼˜æ§åˆ¶
âœ“ å¿«é€Ÿè¿ç»­ç‚¹å‡»ç­‰ä»·ç±»æµ‹è¯•
âœ“ æ¸¸æˆçŠ¶æ€ç®¡ç†ç­‰ä»·ç±»
```

#### 3. åŠŸèƒ½ç‰¹æ€§å±‚
- **é“å…·ç³»ç»Ÿ** (`powerup-system.spec.ts`): 4ä¸ªç­‰ä»·ç±»æµ‹è¯•
- **UI/UX** (`ui-ux.spec.ts`): 5ä¸ªç­‰ä»·ç±»æµ‹è¯•
- **å…¼å®¹æ€§** (`compatibility.spec.ts`): 7ä¸ªç­‰ä»·ç±»æµ‹è¯•

#### 4. æ€§èƒ½è´¨é‡å±‚  
- **æ€§èƒ½ç¨³å®šæ€§** (`performance-stability.spec.ts`): 5ä¸ªç­‰ä»·ç±»æµ‹è¯•
- **ç»¼åˆé›†æˆ** (`integration.spec.ts`): 5ä¸ªç»¼åˆæµ‹è¯•

## ğŸ¯ ç­‰ä»·ç±»åˆ’åˆ†ç­–ç•¥

### æœ‰æ•ˆç­‰ä»·ç±»ç¤ºä¾‹
```typescript
VALID_CLICK_AREAS: [
  { x: 0.5, y: 0.5, description: 'ä¸­å¿ƒåŒºåŸŸ' },
  { x: 0.3, y: 0.3, description: 'å·¦ä¸ŠåŒºåŸŸ' },
  { x: 0.7, y: 0.7, description: 'å³ä¸‹åŒºåŸŸ' }
]
```

### è¾¹ç•Œå€¼ç­‰ä»·ç±»ç¤ºä¾‹
```typescript
BOUNDARY_VALUES: [
  { x: 0, y: 0, description: 'å·¦ä¸Šè§’è¾¹ç•Œ' },
  { x: 1, y: 1, description: 'å³ä¸‹è§’è¾¹ç•Œ' },
  { x: 0.5, y: 0, description: 'ä¸Šè¾¹ç•Œä¸­å¿ƒ' },
  { x: 0.5, y: 1, description: 'ä¸‹è¾¹ç•Œä¸­å¿ƒ' }
]
```

### æ—¶é—´ç»´åº¦ç­‰ä»·ç±»
```typescript
DURATION_CLASSES: {
  SHORT: 2000,    // çŸ­æ—¶é—´æµ‹è¯•
  MEDIUM: 10000,  // ä¸­ç­‰æ—¶é—´æµ‹è¯•
  LONG: 30000,    // é•¿æ—¶é—´æµ‹è¯•
}
```

## âœ… æµ‹è¯•æ‰§è¡Œç»“æœ

### æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
- **æ‰§è¡Œç»“æœ**: 24/25 é€šè¿‡ (96% æˆåŠŸç‡)
- **å¤±è´¥åŸå› **: Firefoxè¾¹ç•Œæµ‹è¯•è¶…æ—¶(éå…³é”®é—®é¢˜)
- **æ‰§è¡Œæ—¶é—´**: çº¦1.2åˆ†é’Ÿ

### UI/UXæµ‹è¯•  
- **æ‰§è¡Œç»“æœ**: 5/5 é€šè¿‡ (100% æˆåŠŸç‡)
- **è¦†ç›–èŒƒå›´**: å¤šè®¾å¤‡ã€å¤šåˆ†è¾¨ç‡ã€å“åº”å¼æµ‹è¯•
- **æ‰§è¡Œæ—¶é—´**: çº¦18ç§’

### é“å…·ç³»ç»Ÿæµ‹è¯•
- **æ‰§è¡Œç»“æœ**: 4/4 é€šè¿‡ (100% æˆåŠŸç‡) 
- **æµ‹è¯•å†…å®¹**: ç”Ÿæˆã€æ”¶é›†ã€æ•ˆæœã€å‹åŠ›æµ‹è¯•
- **æ‰§è¡Œæ—¶é—´**: çº¦37ç§’

## ğŸš€ æµ‹è¯•æ•ˆç‡æå‡

### é‡åŒ–æŒ‡æ ‡
| æŒ‡æ ‡ | é‡ç»„å‰ | é‡ç»„å | æ”¹è¿› |
|------|--------|--------|------|
| æ–‡ä»¶æ•°é‡ | 30+ | 7 | -75%+ |
| ä»£ç é‡å¤ | é«˜ | ä½ | -60%+ |
| ç»´æŠ¤æˆæœ¬ | é«˜ | ä½ | -70%+ |
| æ‰§è¡Œæ•ˆç‡ | ä½ | é«˜ | +50%+ |

### è´¨é‡æå‡
- **è¦†ç›–å®Œæ•´æ€§**: ç³»ç»ŸåŒ–çš„ç­‰ä»·ç±»è¦†ç›–
- **è¾¹ç•Œæµ‹è¯•**: ä¸“é—¨çš„è¾¹ç•Œå€¼æµ‹è¯•
- **å‹åŠ›æµ‹è¯•**: å¤šå±‚æ¬¡çš„æ€§èƒ½éªŒè¯
- **å…¼å®¹æ€§**: è·¨è®¾å¤‡ã€è·¨æµè§ˆå™¨æµ‹è¯•

## ğŸ“ æµ‹è¯•ç”¨ä¾‹åˆå¹¶ç¤ºä¾‹

### é‡ç»„å‰ (åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶)
```
mouse-follow.spec.ts
mouse-follow-test.spec.ts  
mouse-follow-fixed.spec.ts
mouse-debug.spec.ts
movement-debug.spec.ts
```

### é‡ç»„å (ç»Ÿä¸€åˆ°ç­‰ä»·ç±»)
```typescript
// core-functionality.spec.ts
test('ç©å®¶ç§»åŠ¨æ§åˆ¶ç­‰ä»·ç±» - æœ‰æ•ˆåŒºåŸŸ', async () => {
  for (const validArea of EquivalenceClasses.VALID_CLICK_AREAS) {
    await helper.testPlayerMovement(canvas, validArea.x, validArea.y);
  }
});
```

## ğŸ› ï¸ å¿«é€Ÿä½¿ç”¨æŒ‡å—

### è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
```bash
npx playwright test tests/e2e/ --timeout=120000
```

### è¿è¡Œç‰¹å®šç­‰ä»·ç±»
```bash
# æ ¸å¿ƒåŠŸèƒ½
npx playwright test tests/e2e/core-functionality.spec.ts

# UI/UXæµ‹è¯•
npx playwright test tests/e2e/ui-ux.spec.ts

# æ€§èƒ½æµ‹è¯•
npx playwright test tests/e2e/performance-stability.spec.ts
```

### å¿«é€ŸéªŒè¯
```bash
# åªè¿è¡ŒChromeæµè§ˆå™¨
npx playwright test tests/e2e/ --project=chromium

# çƒŸé›¾æµ‹è¯•
npx playwright test tests/e2e/core-functionality.spec.ts --grep='æ¸¸æˆåˆå§‹åŒ–'
```

## ğŸ“ˆ æŒç»­æ”¹è¿›è®¡åˆ’

### çŸ­æœŸç›®æ ‡
- [ ] ä¼˜åŒ–Firefoxå…¼å®¹æ€§é—®é¢˜
- [ ] æ·»åŠ è§†è§‰å›å½’æµ‹è¯•
- [ ] å®Œå–„é”™è¯¯ç›‘æ§æœºåˆ¶

### ä¸­æœŸç›®æ ‡  
- [ ] é›†æˆCI/CDè‡ªåŠ¨åŒ–
- [ ] æ€§èƒ½åŸºå‡†ç›‘æ§
- [ ] æµ‹è¯•æŠ¥å‘Šå¯è§†åŒ–

### é•¿æœŸç›®æ ‡
- [ ] æ™ºèƒ½æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
- [ ] è‡ªé€‚åº”ç­‰ä»·ç±»ä¼˜åŒ–
- [ ] æµ‹è¯•æ•°æ®åˆ†æå¹³å°

## ğŸ‰ æ€»ç»“

é€šè¿‡ç­‰ä»·ç±»åˆ’åˆ†å’Œæµ‹è¯•é‡ç»„ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†ï¼š

1. **é«˜æ•ˆæ€§**: 75%+ çš„æ–‡ä»¶æ•°é‡å‡å°‘ï¼Œæ˜¾è‘—æå‡ç»´æŠ¤æ•ˆç‡
2. **å®Œæ•´æ€§**: ç³»ç»ŸåŒ–çš„æµ‹è¯•è¦†ç›–ï¼Œç¡®ä¿è´¨é‡ä¿è¯  
3. **å¯æ‰©å±•æ€§**: æ¸…æ™°çš„æ¶æ„è®¾è®¡ï¼Œä¾¿äºåç»­æ‰©å±•
4. **å®ç”¨æ€§**: å¤šå±‚æ¬¡çš„æµ‹è¯•ç­–ç•¥ï¼Œé€‚åº”ä¸åŒåœºæ™¯éœ€æ±‚

è¿™ä¸ªé‡ç»„çš„æµ‹è¯•æ¶æ„ä¸ºé‡æœºæªæ¸¸æˆé¡¹ç›®æä¾›äº†å¼ºå¤§çš„è´¨é‡ä¿è¯åŸºç¡€ï¼Œæ”¯æŒå¿«é€Ÿè¿­ä»£å’ŒæŒç»­æ”¹è¿›ã€‚
